webshims.register("form-validators",function(a,b,c,d,e,f){"use strict";var g="."+f.iVal.errorClass+", ."+f.iVal.successClass;!function(){b.refreshCustomValidityRules&&b.error("form-validators already included. please remove custom-validity.js");var c,e,f={},g=!1,h="input, select, textarea, fieldset[data-dependent-validation]",i=function(a){b.refreshCustomValidityRules(a.target)},j=function(){return!j.types[this.type]};j.types={hidden:1,image:1,button:1,reset:1,submit:1},b.customErrorMessages={},b.addCustomValidityRule=function(){var c,e=function(){a(d.querySelectorAll(h)).filter(j).each(function(){k(this)})};return function(a,d,h){f[a]=d,b.customErrorMessages[a]||(b.customErrorMessages[a]=[],b.customErrorMessages[a][""]=h||a),g&&(clearTimeout(c),c=setTimeout(e))}}(),b.refreshCustomValidityRules=function(d){if(e){var g,h,i=a(d).data(),j="",k=i&&i.customMismatchedRule,l=i&&a.prop(d,"validity")||{valid:1};return i&&(k||l.valid)&&(h=function(e,f){c=!0,e?(i.customMismatchedRule=f,"string"!=typeof e&&(e=b.getContentValidationMessage(d,!1,f),e&&"object"==typeof e&&(e=e[f]),e&&"string"==typeof e||(e=b.customErrorMessages[f][b.activeLang()]||b.customErrorMessages[f][""]||e.customError||e.defaultMessage||""))):(e="",i.customMismatchedRule=""),a(d).setCustomValidity(e),c=!1},g=a(d).val(),a.each(f,function(a,b){return j=b(d,g,i,h)||"",k=a,j?!1:void 0}),i&&i.dependentValidation&&!i.dependentValidation._init&&!i.dependentValidation.masterElement&&f.dependent(d,g,i,a.noop),"async"==j||!j&&l.valid||h(j,k)),j}};var k=b.refreshCustomValidityRules;"unknown"!=typeof d.activeElement&&a("body").on("click",function(b){if("submit"==b.target.type){var c=d.activeElement;c!=b.target&&a.data(c,"webshimsswitchvalidityclass")&&a(c).trigger("updatevalidation.webshims")}}),b.ready("forms form-validation",function(){a.propHooks.setCustomValidity={get:function(b){return c||a.data(b,"customMismatchedRule",""),null}},setTimeout(function(){b.addReady(function(b,c){e=!0,a(b.querySelectorAll(h)).add(c.filter(h)).filter(j).each(function(){k(this)}),g=!0}),a(d).on("refreshCustomValidityRules",i)},29)})}(),function(){var e=b.cfg.forms,h=b.addCustomValidityRule,i=function(a){return d.getElementById(a)||d.getElementsByName(a)};h("partialPattern",function(a,b,c){return c=c.partialPattern,b&&c?!new RegExp("("+c+")","i").test(b):void 0},"This format is not allowed here."),h("tooShort",function(c,d,e){return d&&e.minlength?(a.nodeName(c,"input")&&b.warn('depreacated data-minlength usage: Use pattern=".{'+e.minlength+',}" instead.'),e.minlength>d.length):void 0},"Entered value is too short."),h("grouprequired",function(c,e,f){var g,h=c.name;return h&&"checkbox"===c.type&&"grouprequired"in f?(f.grouprequired&&f.grouprequired.checkboxes||(f.grouprequired.checkboxes=a((g=a.prop(c,"form"))&&g[h]||d.getElementsByName(h)).filter('[type="checkbox"]'),f.grouprequired.checkboxes.off("click.groupRequired").on("click.groupRequired",function(){b.refreshCustomValidityRules(c)}),f.grouprequired.checkboxes.not(c).removeData("grouprequired")),!f.grouprequired.checkboxes.filter(":checked:enabled")[0]):void 0},"Please check one of these checkboxes."),h("luhn",function(a,c,d){if(c&&d&&("creditcard"in d||"luhn"in d)){if("creditcard"in d&&b.error("data-creditcard was renamed to data-luhn!!!"),c=c.replace(/\-/g,""),c!=1*c)return!0;for(var e,f=c.length,g=0,h=1;f--;)e=parseInt(c.charAt(f),10)*h,g+=e-9*(e>9),h^=3;return!(g%10===0&&g>0)}},"Please enter a valid credit card number");var j={prop:"value","from-prop":"value",toggle:!1},k=function(b){return a(b.form[b.name]).filter('[type="radio"]')};b.ready("form-validation",function(){b.modules&&(k=b.modules["form-core"].getGroupElements||k)}),h("dependent",function(c,e,f){if(f=f.dependentValidation){var h,i=function(b){var d=a.prop(f.masterElement,f["from-prop"]);h&&(d=-1!==a.inArray(d,h)),f.toggle&&(d=!d),a.prop(c,f.prop,d),b&&a(c).getShadowElement().filter(g).trigger("updatevalidation.webshims")};if(!f._init||!f.masterElement){if("string"==typeof f&&(f={from:f}),f.masterElement=d.getElementById(f.from)||d.getElementsByName(f.from||[])[0],f._init=!0,!f.masterElement||!f.masterElement.form)return;/radio|checkbox/i.test(f.masterElement.type)?(f["from-prop"]||(f["from-prop"]="checked"),f.prop||"checked"!=f["from-prop"]||(f.prop="disabled")):f["from-prop"]||(f["from-prop"]="value"),0===f["from-prop"].indexOf("value:")&&(h=f["from-prop"].replace("value:","").split("||"),f["from-prop"]="value"),f=a.data(c,"dependentValidation",a.extend({_init:!0},j,f)),"value"!==f.prop||h?a("radio"===f.masterElement.type&&k(f.masterElement)||f.masterElement).on("change",i):a(f.masterElement).on("change",function(){b.refreshCustomValidityRules(c),a(c).getShadowElement().filter(g).trigger("updatevalidation.webshims")})}return"value"!=f.prop||h?(i(),""):a.prop(f.masterElement,"value")!=e}},"The value of this field does not repeat the value of the other field"),h("valuevalidation",function(b,c,d){return c&&"valuevalidation"in d?a(b).triggerHandler("valuevalidation",[{value:c,valueAsDate:a.prop(b,"valueAsDate"),isPartial:!1}])||"":void 0},"This value is not allowed here"),c.JSON&&h("ajaxvalidate",function(c,d,g){if(d&&g.ajaxvalidate){var h;if(!g.remoteValidate){b.loader.loadList(["jajax"]),"string"==typeof g.ajaxvalidate?g.ajaxvalidate={url:g.ajaxvalidate,depends:a([])}:g.ajaxvalidate.depends=g.ajaxvalidate.depends?a("string"==typeof g.ajaxvalidate.depends&&g.ajaxvalidate.depends.split(" ")||g.ajaxvalidate.depends).map(i):a([]),g.ajaxvalidate.depends.on("refreshCustomValidityRules",function(){b.refreshCustomValidityRules(c)}),h=g.ajaxvalidate;var j={ajaxLoading:!1,restartAjax:!1,message:"async",cache:{},update:function(b){this.ajaxLoading?this.restartAjax=b:(this.restartAjax=!1,this.ajaxLoading=!0,a.ajax(a.extend({dataType:"json"},h,{url:h.url,depData:b,data:e.fullRemoteForm||h.fullForm?a(c).jProp("form").serializeArray():b,success:this.getResponse,complete:this._complete,timeout:3e3})))},_complete:function(){j.ajaxLoading=!1,j.restartAjax&&this.update(j.restartAjax),j.restartAjax=!1},getResponse:function(b){if(f.transformAjaxValidate&&(b=f.transformAjaxValidate(b)),b){if("string"==typeof b)try{b=JSON.parse(b)}catch(d){}}else b={message:"",valid:!0};j.message="message"in b?b.message:!b.valid,j.lastMessage=j.message,j.blockUpdate=!0,a(c).triggerHandler("updatevalidation.webshims"),j.message="async",j.blockUpdate=!1},getData:function(){var b;return b={},b[a.prop(c,"name")||a.prop(c,"id")]=a(c).val(),h.depends.each(function(){return a(this).is(":invalid")?(b=!1,!1):void(b[a.prop(this,"name")||a.prop(this,"id")]=a(this).val())}),b},getTempMessage:function(){var a,b,c="async";if(g.remoteValidate.blockUpdate)c=j.message;else if(a=this.getData()){try{b=JSON.stringify(a)}catch(d){}b===this.lastString?c=this.ajaxLoading?"async":this.lastMessage:(this.lastString=b,this.lastMessage="async",clearTimeout(g.remoteValidate.timer),g.remoteValidate.timer=setTimeout(function(){g.remoteValidate.update(a)},9))}else c="";return c}};g.remoteValidate=j}return g.remoteValidate.getTempMessage()}},"remote error")}()});