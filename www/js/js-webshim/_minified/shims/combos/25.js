jQuery.webshims.register("dom-extend",function(c,h,l,n,m){var x=h.modules,p=/\s*,\s*/,o={},q={},r={},s={},t={},i=c.fn.val,z=function(a,b,d,j,f){return f?i.call(c(a)):i.call(c(a),d)};c.fn.val=function(a){var b=this[0];arguments.length&&null==a&&(a="");if(!arguments.length)return!b||1!==b.nodeType?i.call(this):c.prop(b,"value",a,"val",!0);if(c.isArray(a))return i.apply(this,arguments);var d=c.isFunction(a);return this.each(function(j){b=this;1===b.nodeType&&(d?(j=a.call(b,j,c.prop(b,"value",m,"val",
!0)),null==j&&(j=""),c.prop(b,"value",j,"val")):c.prop(b,"value",a,"val"))})};var v="_webshimsLib"+Math.round(1E3*Math.random()),y=function(a,b,d){a=a.jquery?a[0]:a;if(!a)return d||{};var j=c.data(a,v);d!==m&&(j||(j=c.data(a,v,{})),b&&(j[b]=d));return b?j&&j[b]:j};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(a){c.fn[a.name]=function(){return this.map(function(){var b=y(this,
"shadowData");return b&&b[a.prop]||this})}});["removeAttr","prop","attr"].forEach(function(a){o[a]=c[a];c[a]=function(b,d,j,f,e){var w="val"==f,u=!w?o[a]:z;if(!b||!q[d]||1!==b.nodeType||!w&&f&&"attr"==a&&c.attrFn[d])return u(b,d,j,f,e);var A=(b.nodeName||"").toLowerCase(),g=r[A],h="attr"==a&&(!1===j||null===j)?"removeAttr":a,k,i,l;g||(g=r["*"]);g&&(g=g[d]);g&&(k=g[h]);if(k){if("value"==d)i=k.isVal,k.isVal=w;if("removeAttr"===h)return k.value.call(b);if(j===m)return k.get?k.get.call(b):k.value;k.set&&
("attr"==a&&!0===j&&(j=d),l=k.set.call(b,j));if("value"==d)k.isVal=i}else l=u(b,d,j,f,e);if((j!==m||"removeAttr"===h)&&t[A]&&t[A][d]){var n;n="removeAttr"==h?!1:"prop"==h?!!j:!0;t[A][d].forEach(function(d){if(!d.only||(d.only="prop"==a)||"attr"==d.only&&"prop"!=a)d.call(b,j,n,w?"val":h,a)})}return l};s[a]=function(b,d,j){r[b]||(r[b]={});r[b][d]||(r[b][d]={});var f=r[b][d][a],e=function(b,c,f){return c&&c[b]?c[b]:f&&f[b]?f[b]:"prop"==a&&"value"==d?function(b){return j.isVal?z(this,d,b,!1,0===arguments.length):
o[a](this,d,b)}:"prop"==a&&"value"==b&&j.value.apply?function(b){var c=o[a](this,d);c&&c.apply&&(c=c.apply(this,arguments));return c}:function(b){return o[a](this,d,b)}};r[b][d][a]=j;if(j.value===m){if(!j.set)j.set=j.writeable?e("set",j,f):h.cfg.useStrict&&"prop"==d?function(){throw d+" is readonly on "+b;}:c.noop;if(!j.get)j.get=e("get",j,f)}["value","get","set"].forEach(function(b){j[b]&&(j["_sup"+b]=e(b,f))})}});var f=!c.browser.msie||8<parseInt(c.browser.version,10),e=function(){var a=h.getPrototypeOf(n.createElement("foobar")),
b=Object.prototype.hasOwnProperty;return function(d,c,e){var k=n.createElement(d),w=h.getPrototypeOf(k);if(f&&w&&a!==w&&(!k[c]||!b.call(k,c))){var u=k[c];e._supvalue=function(){return u&&u.apply?u.apply(this,arguments):u};w[c]=e.value}else e._supvalue=function(){var b=y(this,"propValue");return b&&b[c]&&b[c].apply?b[c].apply(this,arguments):b&&b[c]},g.extendValue(d,c,e.value);e.value._supvalue=e._supvalue}}(),g=function(){var a={};h.addReady(function(b,d){var f={},e=function(a){f[a]||(f[a]=c(b.getElementsByTagName(a)),
d[0]&&c.nodeName(d[0],a)&&(f[a]=f[a].add(d)))};c.each(a,function(b,a){e(b);!a||!a.forEach?h.warn("Error: with "+b+"-property. methods: "+a):a.forEach(function(a){f[b].each(a)})});f=null});var b,d=c([]),f=function(d,f){a[d]?a[d].push(f):a[d]=[f];c.isDOMReady&&(b||c(n.getElementsByTagName(d))).each(f)};return{createTmpCache:function(a){c.isDOMReady&&(b=b||c(n.getElementsByTagName(a)));return b||d},flushTmpCache:function(){b=null},content:function(b,a){f(b,function(){var b=c.attr(this,a);null!=b&&c.attr(this,
a,b)})},createElement:function(b,a){f(b,a)},extendValue:function(b,a,d){f(b,function(){c(this).each(function(){y(this,"propValue",{})[a]=this[a];this[a]=d})})}}}(),k=function(a,b){if(a.defaultValue===m)a.defaultValue="";if(!a.removeAttr)a.removeAttr={value:function(){a[b||"prop"].set.call(this,a.defaultValue);a.removeAttr._supvalue.call(this)}};if(!a.attr)a.attr={}};c.extend(h,{getID:function(){var a=(new Date).getTime();return function(b){var b=c(b),d=b.attr("id");d||(a++,d="ID-"+a,b.attr("id",d));
return d}}(),extendUNDEFProp:function(a,b){c.each(b,function(b,c){b in a||(a[b]=c)})},createPropDefault:k,data:y,moveToFirstEvent:function(){var a=c._data?"_data":"data";return function(b,d,f){if((b=(c[a](b,"events")||{})[d])&&1<b.length)d=b.pop(),f||(f="bind"),"bind"==f&&b.delegateCount?b.splice(b.delegateCount,0,d):b.unshift(d)}}(),addShadowDom:function(){var a,b,d,f,e={init:!1,start:function(){if(!this.init)this.init=!0,this.height=c(n).height(),this.width=c(n).width(),setInterval(function(){var b=
c(n).height(),a=c(n).width();if(b!=e.height||a!=e.width)e.height=b,e.width=a,f({type:"docresize"})},400)}};f=function(f){clearTimeout(a);a=setTimeout(function(){if("resize"==f.type){var a=c(l).width(),u=c(l).width();if(u==b&&a==d)return;b=u;d=a;e.height=c(n).height();e.width=c(n).width()}c.event.trigger("updateshadowdom")},40)};c(l).bind("resize",f);c.event.customEvent.updateshadowdom=!0;return function(b,a,d){d=d||{};b.jquery&&(b=b[0]);a.jquery&&(a=a[0]);var f=c.data(b,v)||c.data(b,v,{}),j=c.data(a,
v)||c.data(a,v,{}),g={};if(d.shadowFocusElement){if(d.shadowFocusElement){if(d.shadowFocusElement.jquery)d.shadowFocusElement=d.shadowFocusElement[0];g=c.data(d.shadowFocusElement,v)||c.data(d.shadowFocusElement,v,g)}}else d.shadowFocusElement=a;f.hasShadow=a;g.nativeElement=j.nativeElement=b;g.shadowData=j.shadowData=f.shadowData={nativeElement:b,shadowElement:a,shadowFocusElement:d.shadowFocusElement};d.shadowChilds&&d.shadowChilds.each(function(){y(this,"shadowData",j.shadowData)});if(d.data)g.shadowData.data=
j.shadowData.data=f.shadowData.data=d.data;d=null;e.start()}}(),propTypes:{standard:function(a){k(a);if(!a.prop)a.prop={set:function(b){a.attr.set.call(this,""+b)},get:function(){return a.attr.get.call(this)||a.defaultValue}}},"boolean":function(a){k(a);if(!a.prop)a.prop={set:function(b){b?a.attr.set.call(this,""):a.removeAttr.value.call(this)},get:function(){return null!=a.attr.get.call(this)}}},src:function(){var a=n.createElement("a");a.style.display="none";return function(b,d){k(b);if(!b.prop)b.prop=
{set:function(a){b.attr.set.call(this,a)},get:function(){var b=this.getAttribute(d),f;if(null==b)return"";a.setAttribute("href",b+"");if(!c.support.hrefNormalized){try{c(a).insertAfter(this),f=a.getAttribute("href",4)}catch(e){f=a.getAttribute("href",4)}c(a).detach()}return f||a.href}}}}(),enumarated:function(a){k(a);if(!a.prop)a.prop={set:function(b){a.attr.set.call(this,b)},get:function(){var b=(a.attr.get.call(this)||"").toLowerCase();if(!b||-1==a.limitedTo.indexOf(b))b=a.defaultValue;return b}}}},
reflectProperties:function(a,b){"string"==typeof b&&(b=b.split(p));b.forEach(function(b){h.defineNodeNamesProperty(a,b,{prop:{set:function(a){c.attr(this,b,a)},get:function(){return c.attr(this,b)||""}}})})},defineNodeNameProperty:function(a,b,d){q[b]=!0;if(d.reflect)h.propTypes[d.propType||"standard"](d,b);["prop","attr","removeAttr"].forEach(function(f){var g=d[f];g&&(g="prop"===f?c.extend({writeable:!0},g):c.extend({},g,{writeable:!0}),s[f](a,b,g),"*"!=a&&h.cfg.extendNative&&"prop"==f&&g.value&&
c.isFunction(g.value)&&e(a,b,g),d[f]=g)});d.initAttr&&g.content(a,b);return d},defineNodeNameProperties:function(a,b,d,f){for(var c in b)!f&&b[c].initAttr&&g.createTmpCache(a),d&&(b[c][d]?h.log("override: "+a+"["+c+"] for "+d):(b[c][d]={},["value","set","get"].forEach(function(a){a in b[c]&&(b[c][d][a]=b[c][a],delete b[c][a])}))),b[c]=h.defineNodeNameProperty(a,c,b[c]);f||g.flushTmpCache();return b},createElement:function(a,b,d){var f;c.isFunction(b)&&(b={after:b});g.createTmpCache(a);b.before&&g.createElement(a,
b.before);d&&(f=h.defineNodeNameProperties(a,d,!1,!0));b.after&&g.createElement(a,b.after);g.flushTmpCache();return f},onNodeNamesPropertyModify:function(a,b,d,f){"string"==typeof a&&(a=a.split(p));c.isFunction(d)&&(d={set:d});a.forEach(function(a){t[a]||(t[a]={});"string"==typeof b&&(b=b.split(p));d.initAttr&&g.createTmpCache(a);b.forEach(function(b){t[a][b]||(t[a][b]=[],q[b]=!0);if(d.set){if(f)d.set.only=f;t[a][b].push(d.set)}d.initAttr&&g.content(a,b)});g.flushTmpCache()})},defineNodeNamesBooleanProperty:function(a,
b,d){d||(d={});if(c.isFunction(d))d.set=d;h.defineNodeNamesProperty(a,b,{attr:{set:function(a){this.setAttribute(b,a);d.set&&d.set.call(this,!0)},get:function(){return null==this.getAttribute(b)?m:b}},removeAttr:{value:function(){this.removeAttribute(b);d.set&&d.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:d.initAttr||!1})},contentAttr:function(a,b,d){if(a.nodeName){if(d===m)return a=a.attributes[b]||{},d=a.specified?a.value:null,null==d?m:d;"boolean"==typeof d?d?a.setAttribute(b,b):
a.removeAttribute(b):a.setAttribute(b,d)}},activeLang:function(){var a=[],b={},d,f,e=/:\/\/|^\.*\//,g=function(b,a,d){return a&&d&&-1!==c.inArray(a,d.availabeLangs||[])?(b.loading=!0,d=d.langSrc,e.test(d)||(d=h.cfg.basePath+d),h.loader.loadScript(d+a+".js",function(){b.langObj[a]?(b.loading=!1,u(b,!0)):c(function(){b.langObj[a]&&u(b,!0);b.loading=!1})}),!0):!1},w=function(a){b[a]&&b[a].forEach(function(a){a.callback()})},u=function(a,b){if(a.activeLang!=d&&a.activeLang!==f){var c=x[a.module].options;
if(a.langObj[d]||f&&a.langObj[f])a.activeLang=d,a.callback(a.langObj[d]||a.langObj[f],d),w(a.module);else if(!b&&!g(a,d,c)&&!g(a,f,c)&&a.langObj[""]&&""!==a.activeLang)a.activeLang="",a.callback(a.langObj[""],d),w(a.module)}};return function(e){if("string"==typeof e&&e!==d)d=e,f=d.split("-")[0],d==f&&(f=!1),c.each(a,function(a,b){u(b)});else if("object"==typeof e)if(e.register)b[e.register]||(b[e.register]=[]),b[e.register].push(e),e.callback();else{if(!e.activeLang)e.activeLang="";a.push(e);u(e)}return d}}()});
c.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(a,b){h[a]=function(a,f,c,e){"string"==typeof a&&(a=a.split(p));var g={};a.forEach(function(a){g[a]=h[b](a,f,c,e)});return g}});h.isReady("webshimLocalization",!0)});
(function(c,h){var l=c.webshims.browserVersion;if(!(c.browser.mozilla&&5<l)&&(!c.browser.msie||12>l&&7<l)){var n={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},m=function(c,h){c.getAttribute("role")||c.setAttribute("role",h)};c.webshims.addReady(function(l,p){c.each(n,function(h,t){for(var i=c(h,l).add(p.filter(h)),n=0,v=i.length;n<v;n++)m(i[n],t)});if(l===h){var o=h.getElementsByTagName("header")[0],q=h.getElementsByTagName("footer"),r=q.length;
o&&!c(o).closest("section, article")[0]&&m(o,"banner");r&&(o=q[r-1],c(o).closest("section, article")[0]||m(o,"contentinfo"))}})}})(jQuery,document);
(function(c,h,l){var n=h.audio&&h.video,m=!1,x=l.cfg.mediaelement,p=l.bugs,o=function(){l.ready("mediaelement-swf",function(){if(!l.mediaelement.createSWF)l.modules["mediaelement-swf"].test=c.noop,l.reTest(["mediaelement-swf"],n)})},q;if(n){var r=document.createElement("video");h.videoBuffered="buffered"in r;m="loop"in r;l.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(","));h.videoBuffered||(l.addPolyfill("mediaelement-native-fix",{f:"mediaelement",
test:h.videoBuffered,d:["dom-support"]}),l.reTest("mediaelement-native-fix"))}if(n&&!x.preferFlash){var s=function(h){var i=h.target.parentNode;!x.preferFlash&&(c(h.target).is("audio, video")||i&&c("source:last",i)[0]==h.target)&&l.ready("DOM mediaelement",function(){q&&o();l.ready("WINDOWLOAD mediaelement-swf",function(){setTimeout(function(){q&&!x.preferFlash&&l.mediaelement.createSWF&&!c(h.target).closest("audio, video").is(".nonnative-api-active")?(x.preferFlash=!0,document.removeEventListener("error",
s,!0),c("audio, video").mediaLoad(),l.info("switching mediaelements option to 'preferFlash', due to an error with native player: "+h.target.src)):q||document.removeEventListener("error",s,!0)},20)})})};document.addEventListener("error",s,!0);c("audio, video").each(function(){this.error&&s({target:this})})}p.track=!1;h.track&&function(){if(!p.track)p.track="number"!=typeof c("<track />")[0].readyState;if(!p.track)try{new TextTrackCue(2,3,"")}catch(h){p.track=!0}var i=l.cfg.track,m=function(f){c(f.target).filter("track").each(n)},
n=function(){if(p.track||!i.override&&3==c.prop(this,"readyState"))i.override=!0,l.reTest("track"),document.removeEventListener("error",m,!0),this&&c.nodeName(this,"track")?l.error("track support was overwritten. Please check your vtt including your vtt mime-type"):l.info("track support was overwritten. due to bad browser support")},o=function(){document.addEventListener("error",m,!0);p.track?n():c("track").each(n)};i.override||(l.isReady("track")?o():c(o))}();l.register("mediaelement-core",function(c,
i,l,r,s){q=swfobject.hasFlashPlayerVersion("9.0.115");var f=i.mediaelement,e=function(a,b){var a=c(a),d={src:a.attr("src")||"",elem:a,srcProp:a.prop("src")};if(!d.src)return d;var e=a.attr("type");if(e)d.type=e,d.container=c.trim(e.split(";")[0]);else if(b||(b=a[0].nodeName.toLowerCase(),"source"==b&&(b=(a.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),e=f.getTypeForSrc(d.src,b))d.type=e,d.container=e;if(e=a.attr("media"))d.media=e;return d},g=!q&&"postMessage"in l&&n,k=
function(){var a;return function(){!a&&g&&(a=!0,i.loader.loadScript("https://www.youtube.com/player_api"),c(function(){i.polyfill("mediaelement-yt")}))}}(),a=function(){q?o():k()};i.addPolyfill("mediaelement-yt",{test:!g,d:["dom-support"]});f.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],'audio/ogg;codecs="opus"':"opus","audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv",
"f4a","fla"],"application/x-mpegURL":["m3u8","m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};f.mimeTypes.source=c.extend({},f.mimeTypes.audio,f.mimeTypes.video);f.getTypeForSrc=function(a,b){if(-1!=a.indexOf("youtube.com/watch?")||
-1!=a.indexOf("youtube.com/v/"))return"video/youtube";var a=a.split("?")[0].split("."),a=a[a.length-1],d;c.each(f.mimeTypes[b],function(b,c){if(-1!==c.indexOf(a))return d=b,!1});return d};f.srces=function(a,b){a=c(a);if(b)a.removeAttr("src").removeAttr("type").find("source").remove(),c.isArray(b)||(b=[b]),b.forEach(function(b){var d=r.createElement("source");"string"==typeof b&&(b={src:b});d.setAttribute("src",b.src);b.type&&d.setAttribute("type",b.type);b.media&&d.setAttribute("media",b.media);a.append(d)});
else{var b=[],d=a[0].nodeName.toLowerCase(),f=e(a,d);f.src?b.push(f):c("source",a).each(function(){f=e(this,d);f.src&&b.push(f)});return b}};c.fn.loadMediaSrc=function(a,b){return this.each(function(){b!==s&&(c(this).removeAttr("poster"),b&&c.attr(this,"poster",b));f.srces(this,a);c(this).mediaLoad()})};f.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
f.canThirdPlaySrces=function(a,b){var d="";if(q||g)a=c(a),b=b||f.srces(a),c.each(b,function(a,b){if(b.container&&b.src&&(q&&-1!=f.swfMimeTypes.indexOf(b.container)||g&&"video/youtube"==b.container))return d=b,!1});return d};var b={};f.canNativePlaySrces=function(a,d){var e="";if(n){var a=c(a),g=(a[0].nodeName||"").toLowerCase();if(!b[g])return e;d=d||f.srces(a);c.each(d,function(d,c){if(c.type&&b[g].prop._supvalue.call(a[0],c.type))return e=c,!1})}return e};f.setError=function(a,b){b||(b="can't play sources");
c(a).pause().data("mediaerror",b);i.warn("mediaelementError: "+b);setTimeout(function(){c(a).data("mediaerror")&&c(a).trigger("mediaerror")},1)};var d=function(){var b;return function(c,e,h){i.ready(q?"mediaelement-swf":"mediaelement-yt",function(){f.createSWF?f.createSWF(c,e,h):b||(b=!0,a(),d(c,e,h))});!b&&g&&!f.createSWF&&k()}}(),j=function(a,b,c,e,g){c||!1!==c&&b&&"third"==b.isActive?(c=f.canThirdPlaySrces(a,e))?d(a,c,b):g?f.setError(a,!1):j(a,b,!1,e,!0):(c=f.canNativePlaySrces(a,e))?b&&"third"==
b.isActive&&f.setActive(a,"html5",b):g?(f.setError(a,!1),b&&"third"==b.isActive&&f.setActive(a,"html5",b)):j(a,b,!0,e,!0)},C=/^(?:embed|object|datalist)$/i,B=function(a,b){var d=i.data(a,"mediaelementBase")||i.data(a,"mediaelementBase",{}),e=f.srces(a),g=a.parentNode;clearTimeout(d.loadTimer);c.data(a,"mediaerror",!1);if(e.length&&g&&!(1!=g.nodeType||C.test(g.nodeName||"")))b=b||i.data(a,"mediaelement"),j(a,b,x.preferFlash||s,e)};c(r).bind("ended",function(a){var b=i.data(a.target,"mediaelement");
(!m||b&&"html5"!=b.isActive||c.prop(a.target,"loop"))&&setTimeout(function(){!c.prop(a.target,"paused")&&c.prop(a.target,"loop")&&c(a.target).prop("currentTime",0).play()},1)});m||i.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(a){var d=i.defineNodeNameProperty(a,"load",{prop:{value:function(){var a=i.data(this,"mediaelement");B(this,a);n&&(!a||"html5"==a.isActive)&&d.prop._supvalue&&d.prop._supvalue.apply(this,arguments)}}});b[a]=i.defineNodeNameProperty(a,
"canPlayType",{prop:{value:function(d){var e="";n&&b[a].prop._supvalue&&(e=b[a].prop._supvalue.call(this,d),"no"==e&&(e=""));!e&&q&&(d=c.trim((d||"").split(";")[0]),-1!=f.swfMimeTypes.indexOf(d)&&(e="maybe"));return e}}})});i.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=this,b=i.data(a,"mediaelementBase")||i.data(a,"mediaelementBase",{});clearTimeout(b.loadTimer);b.loadTimer=setTimeout(function(){B(a);a=null},9)}});l=function(){i.addReady(function(a,b){c("video, audio",
a).add(b.filter("video, audio")).each(function(){c.browser.msie&&8<i.browserVersion&&c.prop(this,"paused")&&!c.prop(this,"readyState")&&c(this).is('audio[preload="none"][controls]:not([autoplay])')?c(this).prop("preload","metadata").mediaLoad():B(this);if(n){var a,b,d=this,f=function(){var a=c.prop(d,"buffered");if(a){for(var b="",f=0,e=a.length;f<e;f++)b+=a.end(f);return b}},e=function(){var a=f();a!=b&&(b=a,c(d).triggerHandler("progress"))};c(this).bind("play loadstart progress",function(d){"progress"==
d.type&&(b=f());clearTimeout(a);a=setTimeout(e,999)}).bind("emptied stalled mediaerror abort suspend",function(d){"emptied"==d.type&&(b=!1);clearTimeout(a)})}})})};h.track&&!p.track&&i.defineProperty(TextTrack.prototype,"shimActiveCues",{get:function(){return this._shimActiveCues||this.activeCues}});n?(i.isReady("mediaelement-core",!0),l(),i.ready("WINDOWLOAD mediaelement",a)):i.ready("mediaelement-swf",l);c(function(){i.loader.loadList(["track-ui"])})})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("track",function(c,h,l,n){var m=h.mediaelement;(new Date).getTime();var x={subtitles:1,captions:1},p=Modernizr.ES5&&Modernizr.objectAccessor,o=function(c){var e={};c.addEventListener=function(c,f){e[c]&&h.error("always use $.bind to the shimed event: "+c+" already bound fn was: "+e[c]+" your fn was: "+f);e[c]=f};c.removeEventListener=function(c,f){e[c]&&e[c]!=f&&h.error("always use $.bind/$.unbind to the shimed event: "+c+" already bound fn was: "+e[c]+" your fn was: "+f);
e[c]&&delete e[c]};return c},q={getCueById:function(c){for(var e=null,g=0,h=this.length;g<h;g++)if(this[g].id===c){e=this[g];break}return e}},r={shimActiveCues:null,_shimActiveCues:null,activeCues:null,cues:null,kind:"subtitles",label:"",language:"",mode:"disabled",readyState:0,oncuechange:null,toString:function(){return"[object TextTrack]"},addCue:function(c){if(this.cues){var e=this.cues[this.cues.length-1];e&&e.startTime>c.startTime&&h.error("cue startTime higher than previous cue's startTime")}else this.cues=
m.createCueList();c.track&&h.error("cue already part of a track element");c.track=this;this.cues.push(c)},removeCue:function(){h.error("not implemented yet")},DISABLED:"disabled",OFF:"disabled",HIDDEN:"hidden",SHOWING:"showing",ERROR:3,LOADED:2,LOADING:1,NONE:0},s=["kind","label","srclang"],t={srclang:"language"},i=Function.prototype.call.bind(Object.prototype.hasOwnProperty),z=function(f,e){var g=[],k=[],a=[],b,d;f||(f=h.data(this,"mediaelementBase")||h.data(this,"mediaelementBase",{}));if(!e)f.blockTrackListUpdate=
!0,e=c.prop(this,"textTracks"),f.blockTrackListUpdate=!1;clearTimeout(f.updateTrackListTimer);c("track",this).each(function(){var b=c.prop(this,"track");a.push(b);-1==e.indexOf(b)&&k.push(b)});if(f.scriptedTextTracks)for(b=0,d=f.scriptedTextTracks.length;b<d;b++)a.push(f.scriptedTextTracks[b]),-1==e.indexOf(f.scriptedTextTracks[b])&&k.push(f.scriptedTextTracks[b]);for(b=0,d=e.length;b<d;b++)-1==a.indexOf(e[b])&&g.push(e[b]);if(g.length||k.length){e.splice(0);for(b=0,d=a.length;b<d;b++)e.push(a[b]);
for(b=0,d=g.length;b<d;b++)c([e]).triggerHandler(c.Event({type:"removetrack",track:e,track:g[b]}));for(b=0,d=k.length;b<d;b++)c([e]).triggerHandler(c.Event({type:"addtrack",track:e,track:k[b]}));(f.scriptedTextTracks||g.length)&&c(this).triggerHandler("updatetrackdisplay")}},v=function(f,e){var g,k;e||(e=h.data(f,"trackData"));if(e&&!e.isTriggering)e.isTriggering=!0,g=(e.track||{}).mode,k=(e.track||{}).kind,setTimeout(function(){if(g!==(e.track||{}).mode||k!=(e.track||{}).kind)(e.track||{}).readyState?
c(f).parent().triggerHandler("updatetrackdisplay"):c(f).triggerHandler("checktrackmode");e.isTriggering=!1},9)},y=c("<div />")[0];l.TextTrackCue=function(c,e,g){3!=arguments.length&&h.error("wrong arguments.length for TextTrackCue.constructor");this.startTime=c;this.endTime=e;this.text=g;this.id="";this.pauseOnExit=!1;o(this)};l.TextTrackCue.prototype={onenter:null,onexit:null,pauseOnExit:!1,getCueAsHTML:function(){var c="",e="",g=n.createDocumentFragment(),h;if(!i(this,"getCueAsHTML"))h=this.getCueAsHTML=
function(){var a,b;if(c!=this.text){c=this.text;e=m.parseCueTextToHTML(c);y.innerHTML=e;for(a=0,b=y.childNodes.length;a<b;a++)g.appendChild(y.childNodes[a].cloneNode(!0))}return g.cloneNode(!0)};return h?h.apply(this,arguments):g.cloneNode(!0)},track:null,id:""};m.createCueList=function(){return c.extend([],q)};m.parseCueTextToHTML=function(){var c=/(<\/?[^>]+>)/ig,e=/^(?:c|v|ruby|rt|b|i|u)/,g=/\<\s*\//,h=function(a,c,e,f){g.test(f)?a="</"+a+">":(e.splice(0,1),a="<"+a+" "+c+'="'+e.join(" ").replace(/\"/g,
"&#34;")+'">');return a},a=function(a){var c=a.replace(/[<\/>]+/ig,"").split(/[\s\.]+/);c[0]&&(c[0]=c[0].toLowerCase(),e.test(c[0])?"c"==c[0]?a=h("span","class",c,a):"v"==c[0]&&(a=h("q","title",c,a)):a="");return a};return function(b){return b.replace(c,a)}}();m.loadTextTrack=function(f,e,g,k){var a=g.track,b=function(){var d=c.prop(e,"src"),g,k;if("disabled"!=a.mode&&d&&c.attr(e,"src")&&(c(f).unbind("play playing timeupdate updatetrackdisplay",b),c(e).unbind("checktrackmode",b),!a.readyState)){g=
function(){a.readyState=3;a.cues=null;a.activeCues=a.shimActiveCues=a._shimActiveCues=null;c(e).triggerHandler("error")};a.readyState=1;try{a.cues=m.createCueList(),a.activeCues=a.shimActiveCues=a._shimActiveCues=m.createCueList(),k=c.ajax({dataType:"text",url:d,success:function(b){"text/vtt"!=k.getResponseHeader("content-type")&&h.error("set the mime-type of your WebVTT files to text/vtt. see: http://dev.w3.org/html5/webvtt/#text/vtt");m.parseCaptions(b,a,function(b){b&&"length"in b?(a.readyState=
2,c(e).triggerHandler("load"),c(f).triggerHandler("updatetrackdisplay")):g()})},error:g})}catch(i){g(),h.warn(i)}}};a.readyState=0;a.shimActiveCues=null;a._shimActiveCues=null;a.activeCues=null;a.cues=null;c(f).unbind("play playing timeupdate updatetrackdisplay",b);c(e).unbind("checktrackmode",b);c(f).bind("play playing timeupdate updatetrackdisplay",b);c(e).bind("checktrackmode",b);if(k)a.mode=x[a.kind]?"showing":"hidden",b()};m.createTextTrack=function(f,e){var g,k;if(e.nodeName&&(k=h.data(e,"trackData")))v(e,
k),g=k.track;if(!g)g=o(h.objectCreate(r)),p||s.forEach(function(a){var b=c.prop(e,a);b&&(g[t[a]||a]=b)}),e.nodeName?(p&&s.forEach(function(a){h.defineProperty(g,t[a]||a,{get:function(){return c.prop(e,a)}})}),k=h.data(e,"trackData",{track:g}),m.loadTextTrack(f,e,k,c.prop(e,"default"))):(p&&s.forEach(function(a){h.defineProperty(g,t[a]||a,{value:e[a],writeable:!1})}),g.cues=m.createCueList(),g.activeCues=g._shimActiveCues=g.shimActiveCues=m.createCueList(),g.mode="hidden",g.readyState=2);return g};
m.parseCaptionChunk=function(){var c=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,e=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,g=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,h=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g;return function(a){var b,d,j,i;if(e.exec(a)||g.exec(a)||h.exec(a))return null;for(a=a.split(/\n/g);!a[0].replace(/\s+/ig,"").length&&0<a.length;)a.shift();for(a[0].match(/^\s*[a-z0-9]+\s*$/ig)&&(j=""+a.shift().replace(/\s*/ig,""));0<a.length;){if(i=c.exec(a[0]))d=
i.slice(1),b=parseInt(3600*(d[0]||0),10)+parseInt(60*(d[1]||0),10)+parseInt(d[2]||0,10)+parseFloat("0."+(d[3]||0)),d=parseInt(3600*(d[4]||0),10)+parseInt(60*(d[5]||0),10)+parseInt(d[6]||0,10)+parseFloat("0."+(d[7]||0));a=a.slice(0,0).concat(a.slice(1));break}if(!b&&!d)return null;a=a.join("\n");b=new TextTrackCue(b,d,a);if(j)b.id=j;return b}}();m.parseCaptions=function(c,e,g){m.createCueList();var k,a,b,d,j;c?(b=/^WEBVTT(\s*FILE)?/ig,a=function(i,l){for(;i<l;i++){k=c[i];if(b.test(k))j=!0;else if(k.replace(/\s*/ig,
"").length){if(!j){h.error("please use WebVTT format. This is the standard");g(null);break}(k=m.parseCaptionChunk(k,i))&&e.addCue(k)}if(d<(new Date).getTime()-9){i++;setTimeout(function(){d=(new Date).getTime();a(i,l)},90);break}}i>=l&&(j||h.error("please use WebVTT format. This is the standard"),g(e.cues))},c=c.replace(/\r\n/g,"\n"),setTimeout(function(){c=c.replace(/\r/g,"\n");setTimeout(function(){d=(new Date).getTime();c=c.split(/\n\n+/g);a(0,c.length)},9)},9)):h.error("Required parameter captionData not supplied.")};
m.createTrackList=function(c,e){e=e||h.data(c,"mediaelementBase")||h.data(c,"mediaelementBase",{});if(!e.textTracks)e.textTracks=[],h.defineProperties(e.textTracks,{onaddtrack:{value:null},onremovetrack:{value:null}}),o(e.textTracks);return e.textTracks};Modernizr.track||(h.defineNodeNamesBooleanProperty(["track"],"default"),h.reflectProperties(["track"],["srclang","label"]),h.defineNodeNameProperties("track",{src:{reflect:!0,propType:"src"}}));h.defineNodeNameProperties("track",{kind:{attr:Modernizr.track?
{set:function(c){var e=h.data(this,"trackData");this.setAttribute("data-kind",c);if(e)e.attrKind=c},get:function(){var c=h.data(this,"trackData");return c&&"attrKind"in c?c.attrKind:this.getAttribute("kind")}}:{},reflect:!0,propType:"enumarated",defaultValue:"subtitles",limitedTo:["subtitles","captions","descriptions","chapters","metadata"]}});p||c.each(s,function(f,e){var g=t[e]||e;h.onNodeNamesPropertyModify("track",e,function(){var f=h.data(this,"trackData");f&&(f.track[g]=c.prop(this,e),v(this,
f))})});h.onNodeNamesPropertyModify("track","src",function(f){if(f){var f=h.data(this,"trackData"),e;f&&(e=c(this).closest("video, audio"),e[0]&&m.loadTextTrack(e,this,f))}});h.defineNodeNamesProperties(["track"],{ERROR:{value:3},LOADED:{value:2},LOADING:{value:1},NONE:{value:0},readyState:{get:function(){return(c.prop(this,"track")||{readyState:0}).readyState},writeable:!1},track:{get:function(){return m.createTextTrack(c(this).closest("audio, video")[0],this)},writeable:!1}},"prop");h.defineNodeNamesProperties(["audio",
"video"],{textTracks:{get:function(){var c=h.data(this,"mediaelementBase")||h.data(this,"mediaelementBase",{}),e=m.createTrackList(this,c);c.blockTrackListUpdate||z.call(this,c,e);return e},writeable:!1},addTextTrack:{value:function(c,e,g){c=m.createTextTrack(this,{kind:c||"",label:e||"",srclang:g||""});e=h.data(this,"mediaelementBase")||h.data(this,"mediaelementBase",{});if(!e.scriptedTextTracks)e.scriptedTextTracks=[];e.scriptedTextTracks.push(c);z.call(this);return c}}},"prop");c(n).bind("emptied ended updatetracklist",
function(f){if(c(f.target).is("audio, video")){var e=h.data(f.target,"mediaelementBase");if(e)clearTimeout(e.updateTrackListTimer),e.updateTrackListTimer=setTimeout(function(){z.call(f.target,e)},0)}});h.addReady(function(f,e){var g=e.filter("video, audio, track").closest("audio, video");c("video, audio",f).add(g).each(function(){z.call(this)}).each(function(){if(Modernizr.track){var e=this.textTracks;c.prop(this,"textTracks").length!=e.length&&h.error("textTracks couldn't be copied");c("track",this).each(function(){var a=
c.prop(this,"track"),b=this.track,d,e;if(b){d=c.prop(this,"kind");e=b.readyState||this.readyState;if(b.mode||e)a.mode=b.mode;if("descriptions"!=d)b.mode="string"==typeof b.mode?"disabled":0,this.kind="metadata",c(this).attr({kind:d})}}).bind("load error",function(a){a.originalEvent&&a.stopImmediatePropagation()})}});g.each(function(){var c=this,a=h.data(c,"mediaelementBase");if(a)clearTimeout(a.updateTrackListTimer),a.updateTrackListTimer=setTimeout(function(){z.call(c,a)},9)})});Modernizr.track&&
c("video, audio").trigger("trackapichange")});
